const {
  path
} = require('@vuepress/shared-utils')

module.exports = (options, context) => ({
  define() {
    const {
      title,
      windowStyle,
      contentInfo,
      bottomInfo,
      delayMount,
      closeOnce,
      hideRouteList
    } = options
    return {
      TITLE: title || '公告',
      WINDOW_STYLE: windowStyle || {
        right: '20px',
        top: '70px',
        width: '260px',
      },
      CONTENT_INFO: contentInfo || {
        title: '欢迎加入QQ交流群 🎉🎉🎉',
        imgUrl: 'https://reinness.com/avatar.png',
        needImg: true,
        content: '这是内容（请您修改~~~）',
        contentStyle: {}
      },
      BOTTOM_INFO: bottomInfo || {
        btnText: '关于',
        linkTo: 'https://reinness.com'
      },
      DELAYMOUNT: delayMount || 500,
      CLOSEONCE: closeOnce || false,
      HIDEROUTELIST: hideRouteList || []
    }
  },
  name: 'DisplayWindow',
  enhanceAppFiles: [
    path.resolve(__dirname, './bin/enhanceAppFile.js')
  ],
  globalUIComponents: 'DisplayWindow'
})